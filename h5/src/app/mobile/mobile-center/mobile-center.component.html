<div class="home-index">

  <div class="h-container">
    <nz-spin [nzSpinning]="isLoading" nzTip="加载中" class="center-container">
      <app-mobile-header>
        <a routerLink="/m/user/stationLetter" name="setting" class="setLogo station-letter">
          <!--<i nz-icon nzType="message" nzTheme="outline"></i>-->
          <svg t="1584280334766" class="icon" viewBox="0 0 1365 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9121" width="24" height="24"><path d="M684.00064 607.733333L1282.005973 9.728A133.077333 133.077333 0 0 0 1232.00064 0h-1098.666667c-16.938667 0-33.205333 3.2-48.138666 8.938667l598.805333 598.794666z" p-id="9122" fill="#ffffff"></path><path d="M684.00064 728.394667l-664.533333-664.533334A132.48 132.48 0 0 0 0.00064 133.333333v757.333334C0.00064 964.266667 59.733973 1024 133.333973 1024h1098.666667c73.6 0 133.333333-59.733333 133.333333-133.333333v-757.333334a133.013333 133.013333 0 0 0-18.528-67.733333L684.00064 728.394667z" p-id="9123" fill="#ffffff"></path></svg>
          <span class="unread" *ngIf="user.userInfo?.unread">{{user.userInfo?.unread}}</span>
        </a>
        <a routerLink="/m/user/userPersonal" name="setting" class="setLogo">
          <!--<i nz-icon nzType="setting" nzTheme="outline"></i>-->
          <svg t="1584279954398" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8104" width="24" height="24"><path d="M885.196958 871.528145c-14.753141-5.464126-25.134981-8.742602-34.970408-12.56749-30.052695-11.474665-59.012564-24.588568-89.611671-34.970408-8.742602-2.732063-21.310093-1.639238-29.506282 2.732063-21.310093 10.38184-42.073773 22.402918-61.744627 36.063234-6.556952 4.371301-12.021078 14.206728-13.660316 22.402918-6.556952 36.063234-11.474665 72.67288-15.845966 109.282526-2.732063 20.76368-12.56749 30.052695-33.877583 29.506282-62.837452-0.546413-125.674905-0.546413-188.512357 0-20.76368 0-31.691933-8.196189-34.423996-28.959869-4.917714-36.609646-10.928253-72.67288-15.299554-109.282526-1.639238-12.56749-6.010539-20.217267-18.031617-26.227806-20.217267-9.835427-38.248884-23.495743-58.466151-33.33117-7.103364-3.824888-18.031617-5.464126-25.681394-2.732063-35.516821 12.56749-69.940817 26.774219-104.911225 40.434535-25.134981 9.835427-32.238345 7.649777-46.445074-16.392379-31.14552-53.002025-61.744627-106.00405-92.343735-159.006075-14.206728-24.588568-13.660316-30.599107 8.742602-48.084311 29.506282-23.495743 59.558977-45.898661 88.518846-69.940817 5.464126-4.371301 9.289015-14.206728 9.289015-21.310093 1.092825-20.217267-3.278476-41.52736 0-61.198215 3.824888-21.310093-4.917714-32.238345-20.217267-43.71301-27.320632-19.670855-52.455613-41.52736-79.229831-61.198215-15.845966-12.021078-19.670855-24.588568-9.289015-42.073773 33.33117-56.280501 66.115928-113.107414 98.900686-169.934328 9.289015-15.845966 21.310093-19.124442 38.248884-12.56749 36.063234 14.206728 72.126467 28.959869 108.736113 42.073773 7.649777 2.732063 19.670855 1.092825 27.320632-2.732063 20.76368-10.38184 39.341709-24.042156 60.105389-34.423996 10.928253-5.464126 14.753141-12.021078 15.845966-22.94933 4.917714-37.156059 10.928253-74.312118 15.845966-111.468177C386.322226 7.649777 397.796892 0 418.014159 0c62.837452 0.546413 125.674905 0.546413 188.512357 0 19.670855 0 30.599107 8.196189 32.784758 27.867044 4.917714 36.609646 10.928253 72.67288 15.299554 109.282526 1.639238 13.660316 6.556952 21.856505 19.670855 27.867044 19.124442 8.742602 37.156059 19.670855 54.641263 31.691933 11.474665 8.196189 21.310093 8.196189 33.877583 2.732063 33.877583-14.206728 68.301579-26.774219 102.725575-40.980947 19.124442-7.649777 32.238345-3.824888 42.620185 14.753141 31.14552 55.187676 63.930278 109.828939 95.62221 164.470202 12.56749 21.856505 10.928253 28.959869-9.289015 44.805836-28.959869 22.402918-57.919739 45.352248-87.426021 67.755166-9.835427 7.649777-12.56749 14.753141-11.474665 27.320632 2.185651 22.94933-0.546413 46.445074 0.546413 69.394404 0.546413 8.196189 4.371301 18.031617 10.38184 22.94933 28.959869 24.042156 59.012564 46.445074 88.518846 69.394404 20.217267 15.845966 21.310093 22.94933 8.742602 44.805836-32.238345 55.734088-64.47669 110.921764-97.261448 166.10944C901.042924 860.05348 891.753909 865.517606 885.196958 871.528145zM510.357893 692.304803c98.900686 0.546413 180.862581-79.776244 181.408993-177.584105 0.546413-100.539924-79.229831-181.955406-178.67693-182.501819-99.447099-0.546413-181.408993 80.322657-181.408993 179.769755C331.134551 610.342908 412.00362 691.75839 510.357893 692.304803z" p-id="8105" fill="#ffffff"></path></svg>
        </a>
      </app-mobile-header>
      <div class="member-nav-center">
        <div class="member-infor">
          <div class="member-logo">
            <div class="logo">
                <span class="logobox">
                    <span class="x-icon-Mem-logo x-icon"></span>
                </span>
            </div>
          </div>
          <div class="member-infor-right">
            <div class="myInfo">{{username}},&nbsp;欢迎您</div>
            <div class="myInfo" style="height: 0.44rem;">
              认证状态:
              <div>
                <div *ngIf="user.userInfo?.hasMobile ;then suceessPhone else noPhone"></div>
                <ng-template #noPhone>
                  <img [src]="config.baseMobileImgUrl+'image/user_img/iphone_nov.png'" alt="" class="phone ">
                </ng-template>
                <ng-template #suceessPhone>
                  <img [src]="config.baseMobileImgUrl+'image/user_img/iphone_pass.png'" alt=""
                       class="phone ">
                </ng-template>
              </div>
              <div>
                <div *ngIf="user.userInfo?.hasBankCard ;then suceessBancks else noBancks"></div>
                <ng-template #noBancks>
                  <img [src]="config.baseMobileImgUrl+'image/user_img/bank_nov.png'" alt="" class="bank ">
                </ng-template>
                <ng-template #suceessBancks>
                  <img [src]="config.baseMobileImgUrl+'image/user_img/bank_pass.png'" alt="" class="bank ">
                </ng-template>
              </div>
            </div>
            <div class="myInfo" *ngIf="user.userInfo?.agencyStatus !==2 && user.userInfo?.agencyLevel">代理等级:&nbsp;&nbsp;&nbsp;
              <span *ngIf="user.userInfo?.agencyStatus == 0">{{user.userInfo?.agencyLevel}}</span>
              <span [hidden]="user.userInfo?.agencyStatus == 0" style="color: red;">已停用</span>
            </div>
            <div class="myInfo">当前积分:&nbsp;&nbsp;&nbsp;{{user.userInfo?.integral | number:'1.2-2'}}</div>
            <div class="myInfo">上次登录时间:&nbsp;&nbsp;&nbsp;{{user.userInfo?.loginDate}}</div>
          </div>
        </div>
      </div>
      <div class="G-MemberCentre-Nav-capital" nz-row [hidden]="!user.userInfo?.agencyStatus || user.userInfo?.agencyStatus === 2">
        <div class="G-M-N-L" nz-col [nzSpan]="8">
          <div class="grid-content G-M-N-L-sup"> ¥&nbsp;{{user.userInfo?.wallet | number:'1.2-2'}}&nbsp;</div>
          <div class="grid-content G-M-N-L-sub">钱包余额(元)</div>
        </div>
        <div class="G-M-N-L" nz-col [nzSpan]="8">
          <div class="grid-content G-M-N-L-sup"> ¥&nbsp;{{user.userInfo?.outstandingCommissions | number:'1.2-2'}}&nbsp;
          </div>
          <div *ngIf="user.userInfo?.withdraw; then withdraw else noWithdraw"></div>
          <ng-template #noWithdraw>
            <div class="grid-content G-M-N-L-sub">未结佣金(元)</div>
          </ng-template>
          <ng-template #withdraw>
            <span class="grid-content G-M-N-L-sub drawing" (click)="withdrawlCommission()">提取佣金(元)</span>
          </ng-template>
        </div>
        <div class="G-M-N-R" nz-col [nzSpan]="8">
          <div class="grid-content G-M-N-L-sup">¥&nbsp;{{user.userInfo?.totalBalance | number:'1.2-2'}}</div>
          <div class="grid-content G-M-N-L-sub">
            <a routerLink="/m/capital/allAssets" class="" style="display: block; position: relative;">
              总资产(元)
              <span class="rf Hre" style="position: absolute; right: 0px; top: -0.24rem;">
                    <i nz-icon nzType="right" nzTheme="outline"></i>
                </span>
            </a>
          </div>
        </div>
      </div>
      <!--|| typeof user.userInfo?.agencyStatus =='undefined'-->
      <div class="G-MemberCentre-Nav-capital" nz-row *ngIf="!user.userInfo?.agencyStatus || user.userInfo?.agencyStatus === 2">
        <div class="G-M-N-L" nz-col [nzSpan]="12">
          <div class="grid-content G-M-N-L-sup"> ¥&nbsp;{{user.userInfo?.wallet | number:'1.2-2'}}&nbsp;</div>
          <div class="grid-content G-M-N-L-sub">钱包余额(元)</div>
        </div>
        <div class="G-M-N-R" nz-col [nzSpan]="12">
          <div class="grid-content G-M-N-L-sup">¥&nbsp;{{user.userInfo?.totalBalance | number:'1.2-2'}}</div>
          <div class="grid-content G-M-N-L-sub">
            <a routerLink="/m/capital/allAssets" class="" style="display: block; position: relative;">
              总资产(元)
              <span class="rf Hre" style="position: absolute; right: 0px; top: -0.24rem;">
                    <i nz-icon nzType="right" nzTheme="outline"></i>
                </span>
            </a>
          </div>
        </div>
      </div>


      <div *ngIf="user.userInfo?.agencyStatus ==2">
        <a routerLink="/m/capital/proxy">
          <div class="unlimit-agency">
            <img [src]="agentSrc" alt="" *ngIf="agentSrc">
          </div>
        </a>
      </div>

      <div class="member-contents">
        <ng-container *ngFor="let item of centerList;">
          <div class="member-content-list">
            <div class="titles">{{item.title}}</div>
            <div class="flex-nav-lists">
              <ng-container *ngFor="let every of item.list;">
                <div class='moneyBox'>
                  <a [routerLink]="every.link" class="G-M-NA">
                    <div class="grid-content  Micon"><span class="x-icon" [class]="every.className"></span>
                    </div>
                    <div class="grid-content  text">{{every.name}}</div>
                  </a>
                </div>
              </ng-container>
            </div>
          </div>
        </ng-container>
      </div>
    </nz-spin>
  </div>

  <app-mobile-footer></app-mobile-footer>
  <!-- 提取佣金弹窗 -->
  <nz-modal
    [(nzVisible)]="commissionVisible"
    nzTitle="佣金提取申请"
    (nzOnCancel)="commissionVisible = false;"
    (nzOnOk)="getWithdrawlComm()"
    [nzStyle]="{ top: '25vh'}"
  >
    <div class="get-item">当前未结佣金&nbsp;:&nbsp;&nbsp;<span>￥{{ user.userInfo?.outstandingCommissions | number:'1.2-2'}}</span>
    </div>
    <div class="get-item">计佣周期&nbsp;:&nbsp;&nbsp;<i>{{ user.userInfo?.commissionBeginDate + '~' + user.userInfo?.commissionEndDate
      }}</i></div>
    <p>需先提交平台审核，审核通过后将下发到您提供的银行卡内，详情请咨询客
      服，是否确认提交？</p>
  </nz-modal>
</div>
